import Player.playerSetting as pps;
import Variables.locationInfo as vli;

/*
-------------------------------------------------
저글링은 특수한 목적으로 사용되므로, 다른데선 사용 X
P5 저글링 - 포켓몬센터로 이동
P6 저글링 - 프렌들리숍으로 이동
-------------------------------------------------
P5 디파일러 - 체력회복위치 (포켓몬센터)
P6 디파일러 - PC 이용 (포켓몬센터)
P5 디파일러 - 상점이용 (프렌들리숍)
-------------------------------------------------
*/

function teleportPlayer(cp){
    if(pps.battleState[cp] == 0 && Deaths(cp, Exactly, 16, "A Key")){
        const currentLoc = pps.currentLocation[cp];
        //광휘의집 - 떡잎마을
        if(currentLoc == 0){
            if(Bring(P5, Exactly, 1, 50, vli.moveLoc+cp)){
                MoveLocation(vli.tempMoveLoc, 50, P5, vli.mapLoc[1]);
                MoveUnit(1, pps.playerUnit[cp], cp, 64, vli.tempMoveLoc);
                CenterView(vli.tempMoveLoc);
                PlayWAV("staredit\\wav\\Door exit.wav");
            }
        }
        //떡잎마을 - 광휘의집
        else if(currentLoc == 1){
            if(Bring(P5, Exactly, 1, 50, vli.moveLoc+cp)){
                MoveLocation(vli.tempMoveLoc, 50, P5, vli.mapLoc[0]);
                MoveUnit(1, pps.playerUnit[cp], cp, 64, vli.tempMoveLoc);
                CenterView(vli.tempMoveLoc);
                PlayWAV("staredit\\wav\\Door enter.wav");
            }
        }
        //잔모래마을 - 마박사
        else if(currentLoc == 4){
            if(Bring(P5, Exactly, 1, 50, vli.moveLoc+cp)){
                MoveLocation(vli.tempMoveLoc, 50, P5, vli.mapLoc[7]);
                MoveUnit(1, pps.playerUnit[cp], cp, 64, vli.tempMoveLoc);
                CenterView(vli.tempMoveLoc);
                PlayWAV("staredit\\wav\\Door enter.wav");
            }
        }
        //마박사 - 잔모래마을
        else if(currentLoc == 7){
            if(Bring(P5, Exactly, 1, 50, vli.moveLoc+cp)){
                MoveLocation(vli.tempMoveLoc, 50, P5, vli.mapLoc[4]);
                MoveUnit(1, pps.playerUnit[cp], cp, 64, vli.tempMoveLoc);
                CenterView(vli.tempMoveLoc);
                PlayWAV("staredit\\wav\\Door exit.wav");
            }
        }

        //포켓몬센터로 이동
        if(vli.mapType[currentLoc] != 8){
            if(Bring(P5, Exactly, 1, 37, vli.moveLoc+cp)){
                MoveLocation(vli.tempMoveLoc, 37, P5, vli.mapLoc[10]);
                MoveUnit(1, pps.playerUnit[cp], cp, 64, vli.tempMoveLoc);
                CenterView(vli.tempMoveLoc);
                PlayWAV("staredit\\wav\\Door enter.wav");
            }
        }
        //포켓몬센터에서 나가기
        else{
            if(Bring(P5, Exactly, 1, 37, vli.moveLoc+cp)){
                //마지막으로 방문했던 마을 위치
                const lastVisit = pps.lastVisitVillage[cp];
                MoveLocation(vli.tempMoveLoc, 37, P5, vli.mapLoc[lastVisit]);
                MoveUnit(1, pps.playerUnit[cp], cp, 64, vli.tempMoveLoc);
                CenterView(vli.tempMoveLoc);
                PlayWAV("staredit\\wav\\Door exit.wav");
            }
        }
        //프렌들리숍으로 이동
        if(vli.mapType[currentLoc] != 9){
            if(Bring(P6, Exactly, 1, 37, vli.moveLoc+cp)){
                MoveLocation(vli.tempMoveLoc, 37, P6, vli.mapLoc[11]);
                MoveUnit(1, pps.playerUnit[cp], cp, 64, vli.tempMoveLoc);
                CenterView(vli.tempMoveLoc);
                PlayWAV("staredit\\wav\\Door enter.wav");
            }
        }
        //프렌들리숍에서 나가기
        else{
            if(Bring(P6, Exactly, 1, 37, vli.moveLoc+cp)){
                //마지막으로 방문했던 마을 위치
                const lastVisit = pps.lastVisitVillage[cp];
                MoveLocation(vli.tempMoveLoc, 37, P6, vli.mapLoc[lastVisit]);
                MoveUnit(1, pps.playerUnit[cp], cp, 64, vli.tempMoveLoc);
                CenterView(vli.tempMoveLoc);
                PlayWAV("staredit\\wav\\Door exit.wav");
            }
        }
    }
}